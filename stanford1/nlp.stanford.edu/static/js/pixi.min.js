Image.prototype.load=function(e,a,t,i){var o=this,s=new XMLHttpRequest;o.completedPercentage=0,o.lastPercentage=0,s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=function(){var e=s.getAllResponseHeaders(),n=e.match(/^Content-Type\:\s*(.*?)$/im),r=n[1]||"image/png",l=new Blob([this.response],{type:r});o.src=window.URL.createObjectURL(l),"background"===t&&a&&(a.append('<div class="background"></div>'),TweenMax.set(a.find(".background"),{alpha:0}),a.find(".background").css("background-image","url("+o.src+")"),a.find(".image-preloader").remove(),TweenMax.to(a.find(".background"),.5,{alpha:1,scale:1,ease:Quart.easeOut})),i&&i(this)},s.onprogress=function(e){e.lengthComputable&&(o.completedPercentage=parseInt(e.loaded/e.total*100)),o.lastPercentage!==o.completedPercentage&&a.find(".image-preloader").width(o.completedPercentage+"%")},s.onloadstart=function(){o.lastPercentage=0,o.completedPercentage=0,a.prepend('<i class="image-preloader"></i>')},s.onloadend=function(){o.completedPercentage=100},s.send()},jQuery(document).ready(function($){var e=e||{};e.aniIn=.2,e.aniOut=.3,e.retina=window.devicePixelRatio>1,e.resw=screen.width,e.resh=screen.height,e.clickType=Modernizr.touchevents?"tap":"click",e.root=$("#site-root").val(),e.base=$("#site-base").val(),e.category=$("#site-category").val(),e.offline=!1,e.validEmail=function(e){var a=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return a.test(e)},e.doneResize=0,e.resize=function(){if(e.stageWidth=$(window).width(),e.stageHeight=$(window).height(),"home"===e.base){var a=e.stageHeight-$(".brand-logos").outerHeight();620>a&&(a=620),$(".homepage-header").height(a),$("body.home").css({paddingTop:a}),$(".features-col li").height("auto"),e.stageWidth>=768&&$(".features-col.left-col li").each(function(){$(this).height()>$(".features-col.right-col li").eq($(this).index()).height()?$(".features-col.right-col li").eq($(this).index()).height($(this).height()):$(this).height($(".features-col.right-col li").eq($(this).index()).height())})}e.resizeSubNav(),e.resizeServicesList()},e.resizeSubNav=function(){if(0!==e.menuItem){var a=e.menuItem.offset().left+.5*e.menuItem.outerWidth();$(".sub-nav .arrow").css({left:a}),$(".sub-nav .col").outerHeight("auto");var t=0;$(".sub-nav .col").each(function(){$(this).outerHeight()>t&&(t=$(this).outerHeight())}),$(".sub-nav .col").outerHeight(t),$(window).width()<768&&$(".sub-nav").hide()}},e.resizeServicesList=function(){if($(".services-list li").outerHeight("auto"),$(window).width()>600){var e=0;$(".services-list li").each(function(){$(this).outerHeight()>e&&(e=$(this).outerHeight())}),$(".services-list li").outerHeight(e)}},e.offline?e.scriptsToLoad=[e.root+"js/greensock/TweenMax.min.js"]:e.scriptsToLoad=["http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"],"tap"===e.clickType&&e.scriptsToLoad.push("js/jquery.mobile.custom.min.js"),"home"!==e.base&&"consultancy"!==e.base||(e.offline?e.scriptsToLoad.push(e.root+"js/offline/flickity.pkgd.min.js"):e.scriptsToLoad.push("https://npmcdn.com/flickity@1.2/dist/flickity.pkgd.min.js"),e.scriptsToLoad.push(e.root+"js/pixijs/pixi.min.js")),e.scriptsLoaded=0,e.loadScriptsAsync=function(){for(var a=0;a<e.scriptsToLoad.length;a++)$.ajax({url:e.scriptsToLoad[a],dataType:"script",cache:!0,async:!0,success:e.fileLoaded})},e.fileLoaded=function(){e.scriptsLoaded++,e.scriptsLoaded===e.scriptsToLoad.length&&e.loadComplete()},e.loadComplete=function(){"home"===e.base&&e.initHome(),"gallery"===e.base&&e.initGallery(),"faq"===e.base&&e.initFAQs(),"tutorials"===e.base&&e.initTutorials(),"consultancy"===e.base&&e.initConsultancy(),"submit"===e.base&&e.initSubmit(),e.initNav(),e.initMobileNav(),e.initFooter()},e.staggerAnimations=function(){"tap"!==e.clickType?$("*[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})}):$("*[data-animation]").each(function(){TweenMax.set($(this),{x:0,y:0,alpha:1})})},e.initNav=function(){e.subTimer=-1,"tap"!==e.clickType?($(".main-nav .has-children").mouseover(function(){e.menuItem=$(this);var a=$(this).parent().parent().parent().find(".sub-nav");clearTimeout(e.subTimer),TweenMax.killTweensOf(a),a.css({top:$(this).outerHeight()}).show(0),e.resizeSubNav(),TweenMax.to(a,.4,{y:0,alpha:1,ease:Quart.easeOut})}).mouseout(function(){clearTimeout(e.subTimer),e.subTimer=setTimeout(e.hideSubNav,200)}),$(".sub-nav").mouseenter(function(){clearTimeout(e.subTimer),TweenMax.killTweensOf($(this)),TweenMax.to($(this),.4,{y:0,alpha:1,ease:Quart.easeOut})}).mouseleave(function(){clearTimeout(e.subTimer),e.subTimer=setTimeout(e.hideSubNav,200)})):$(".main-nav .has-children").on(e.clickType,function(){var a=$(this).parent().parent().parent().find(".sub-nav");e.menuItem=$(this),a.is(":visible")?(e.hideSubNav(),$("body").unbind(e.clickType)):(TweenMax.killTweensOf(a),a.css({top:$(this).outerHeight()}).show(0),e.resizeSubNav(),TweenMax.to(a,.4,{y:0,alpha:1,ease:Quart.easeOut}),$("body").on(e.clickType,function(t){return t.pageY<a.offset().top||t.pageY>a.offset().top+a.height()?(t.preventDefault(),t.stopPropagation(),e.hideSubNav(),$("body").unbind(e.clickType),!1):void 0}))})},e.hideSubNav=function(){clearTimeout(e.subTimer),TweenMax.killTweensOf($(this)),TweenMax.to($(".sub-nav"),.4,{y:20,alpha:0,ease:Quart.easeOut,onComplete:function(){$(".sub-nav").hide(0)}})},e.menuItem=0,e.initHome=function(){e.resize(),TweenMax.set($(".features .col"),{x:screen.width,alpha:1});var a=!1,t=!1,i=!1,o=!1,s=!1,n=!1,r=!1,l=!1,c=document.getElementById("iframe-animation"),d=!1;$(document).scroll(function(){$(".brand-logos").offset().top-$(window).scrollTop()<=80?(e.hideSubNav(),$(".main-header").addClass("shown"),$(".mobile-header").addClass("shown")):($(".main-header").removeClass("shown"),$(".mobile-header").removeClass("shown")),$(".brand-logos").offset().top-$(window).scrollTop()<0?d||(c.contentWindow.postMessage("pause","*"),$("iframe.animation").hide(0),d=!0):d&&(c.contentWindow.postMessage("resume","*"),$("iframe.animation").show(0),d=!1),"tap"===e.clickType}),"tap"!==e.clickType?$(document).scroll(function(){if("tap"!==e.clickType&&$(".main-article").scrollTop()<$(".homepage-header").height()){var c=$(this).scrollTop()/$(".homepage-header").height()*100;$(".homepage-header").css({transform:"translate3d(0px, -"+2*c+"px, 0)"})}a||$(".features").offset().top-50-$(window).scrollTop()<=.65*$(window).height()&&(a=!0,TweenMax.staggerTo(".features .col",1,{x:0,ease:Quart.easeOut},.15)),t||$(".features").offset().top+250-$(window).scrollTop()<=.65*$(window).height()&&(t=!0,$(".features .device").each(function(){TweenMax.to($(this),.4,{y:0,ease:Quart.easeOut,delay:$(this).attr("data-delay")})}),TweenMax.to($(".features .button"),.4,{y:0,ease:Quart.easeOut,delay:$(".features .button").attr("data-delay")})),i||$(".features-list").offset().top+50-$(window).scrollTop()<=.65*$(window).height()&&(i=!0,$(".features-list li").each(function(){TweenMax.to($(this).find(".text"),1,{x:0,alpha:1,ease:Quart.easeOut,delay:$(this).attr("data-delay")}),TweenMax.to($(this).find("img"),1,{x:0,alpha:1,ease:Quart.easeOut,delay:$(this).attr("data-delay")})}),$(".features-list *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})})),o||$(".info-block").offset().top-$(window).scrollTop()<=$(window).height()-200&&(o=!0,TweenMax.to($(".info-block .dotjs"),.75,{x:0,alpha:1,ease:Quart.easeOut}),TweenMax.to($(".info-block .type_8"),.75,{y:0,alpha:1,ease:Quart.easeOut,delay:.15}),TweenMax.to($(".info-block .type_9"),.75,{y:0,alpha:1,ease:Quart.easeOut,delay:.3})),s||$(".projects").offset().top-$(window).scrollTop()<=.65*$(window).height()&&(s=!0,$(".projects *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})})),n||$(".consultancy").offset().top-$(window).scrollTop()<=.65*$(window).height()&&(n=!0,$(".consultancy *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})})),r||$(".support").offset().top-$(window).scrollTop()<=.65*$(window).height()&&(r=!0,$(".support *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})})),l||$(".get-started").offset().top-$(window).scrollTop()<=.65*$(window).height()&&(l=!0,$(".get-started *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})}))}):(TweenMax.set($("*[data-animation]"),{x:0,y:0,alpha:1}),TweenMax.set($(".features .col"),{x:0}),TweenMax.set($(".features .device"),{y:0}),TweenMax.set($(".features .button"),{y:0}),TweenMax.set($(".features-list li .text, .features-list li img"),{x:0,alpha:1}),TweenMax.set($(".info-block .dotjs"),{x:0,alpha:1}),TweenMax.set($(".info-block .type_8"),{y:0,alpha:1}),TweenMax.set($(".info-block .type_9"),{y:0,alpha:1})),$(document).scroll(),$(".brand-logos .mask").flickity({cellAlign:"left",wrapAround:!0,groupCells:2,autoPlay:3e3,pauseAutoPlayOnHover:!1,prevNextButtons:!1,pageDots:!1}),e.galleryThumbInteraction(),$(window).mousemove(function(e){var a=e.pageX-$(".support").offset().left,t=e.pageY-$(".support").offset().top,i=a/$(".support").width(),o=t/$(".support").height(),s=100-200*i+"px",n=-60+120*o+"px",r=-60+120*i+"px",l=-60+120*o+"px";TweenMax.to($(".support .bg-1"),5,{x:s,y:n,ease:Quad.easeOut}),TweenMax.to($(".support .bg-2"),4,{x:r,y:l,ease:Quad.easeOut})}),"tap"!==e.clickType&&($.get("animation.php?term=masthead",function(a){e.animations=a.split(","),$("iframe.animation").attr("src",e.animations[0])}),$.ajax({url:"animation.php?term=device",dataType:"script",cache:!0,async:!0,success:function(){window.deviceAnimation("device-desktop-canvas",$("#device-desktop-canvas").width(),$("#device-desktop-canvas").height()),window.deviceAnimation("device-ipad-canvas",$("#device-ipad-canvas").width(),$("#device-ipad-canvas").height()),window.deviceAnimation("device-iphone-canvas",$("#device-iphone-canvas").width(),$("#device-iphone-canvas").height()),window.deviceAnimation("device-phone-canvas",$("#device-phone-canvas").width(),$("#device-phone-canvas").height()),window.deviceAnimation("device-laptop-canvas",$("#device-laptop-canvas").width(),$("#device-laptop-canvas").height()),window.deviceAnimation("device-tablet-canvas",$("#device-tablet-canvas").width(),$("#device-tablet-canvas").height())}})),$.ajax({dataType:"json",url:"php/patreon-feed.php",success:function(e){$("#patreon-count").replaceWith(e.count),$("#patreon-total").replaceWith("$"+e.total)}})},e.initGallery=function(){e.staggerAnimations(),e.galleryThumbInteraction(),e.initGallerySubmission(),"submit"===e.category&&$(".show-submission").click()},e.galleryThumbInteraction=function(){"tap"!==e.clickType&&(TweenMax.set($(".project-list .project"),{rotationY:0,rotationX:0,rotationZ:0,transformPerspective:1e3}),$(".project-list .project").mouseover(function(){$(".project-list .project").mousemove(function(e){var a=e.pageX-$(this).offset().left,t=e.pageY-$(this).offset().top,i=a/$(this).width(),o=t/$(this).height(),s=-15+30*i,n=15-30*o;TweenMax.to($(this),.5,{rotationY:s,rotationX:n,rotationZ:0,transformPerspective:1e3,ease:Quad.easeOut})})}).mouseout(function(){$(this).unbind("mousemove"),TweenMax.to($(this),.5,{rotationY:0,rotationX:0,rotationZ:0,transformPerspective:1e3,ease:Quad.easeOut})}))},e.initGallerySubmission=function(){$(".show-submission").click(function(){$(".submit-form").slideDown(400)}),$(".submit-form .close").click(function(){$(".submit-form").slideUp(400)}),$(".submit-form #gallery-image").change(function(){if(this.files&&this.files[0]){var a=this.files[0];e.galleryImage=a,$(".submit-form .image-upload-container .preview").html(a.name).addClass("added"),$(".submit-form .image-upload-container .instructions").html("Replace Screenshot").addClass("added"),$(".submit-form .image-upload-container").removeClass("error")}}),$(".submit-form .form-group input").keydown(function(){$(this).parent().hasClass("error")&&($(this).parent().removeClass("error").find("i.error").remove(),$(this).parent().find(".helper").show(0))}),$(".submit-form form").submit(function(a){a.preventDefault();var t=$(".submit-form #gallery-title").val(),i=$(".submit-form #gallery-company").val(),o=$(".submit-form #gallery-url").val(),s=!1;if($(".submit-form .preview").removeClass("error"),$(".submit-form .form-group").removeClass("error").find("i.error").remove(),t.length<3&&(s=!0,$(".gallery-title").addClass("error").append('<i class="error">Please enter a title for your submission</i>').find(".helper").hide(0)),i.length<3&&(s=!0,$(".gallery-company").addClass("error").append('<i class="error">Please enter a company or developers name</i>').find(".helper").hide(0)),o.length<3&&(s=!0,$(".gallery-url").addClass("error").append('<i class="error">Please enter a URL</i>').find(".helper").hide(0)),"undefined"!=typeof e.galleryImage&&""!==e.galleryImage||(s=!0,$(".submit-form .image-upload-container").addClass("error")),!s){if(!window.FormData)return!0;var n=document.getElementById("submit-form"),r=new FormData(n);r.append("gallery-image",e.galleryImage),r.append("display","1"),$(".submit-form form button").attr("disabled","disabled").css("opacity",.25),$.ajax({url:e.root+"php/submit.php",data:r,processData:!1,contentType:!1,type:"POST",success:function(a){"1"===a?(e.galleryImage="",n.reset(),$(".submit-form .preview").css("background-image","none"),$(".submit-form .preview .instructions").show(0),$(".submit-form form").hide(0),$(".submit-form .success").show(0)):$(".submit-form form button").removeAttr("disabled","disabled").css("opacity",1)}})}return!1})},e.previewImage=function(a){e.galleryImage=a;var t=new FileReader;t.onload=function(e){$(".submit-modal .preview .instructions").hide(0),$(".submit-modal .preview").css("background-image","url("+e.target.result+")")},t.readAsDataURL(a)},e.initFAQs=function(){e.staggerAnimations(),$(".faq-list li").click(function(){$(this).toggleClass("open"),$(this).find(".big-text").slideToggle(250)}),setTimeout(function(){$(".faq-list li").eq(0).click()},500)},e.initTutorials=function(){e.staggerAnimations()},e.initConsultancy=function(){"tap"===e.clickType&&$(".consultancy-header").addClass("touch"),$(".services-list li").each(function(){$(this).append('<div class="rect"><i class="r1"></i><i class="r2"></i><i class="r3"></i><i class="r4"></i></div>')}),e.resizeServicesList(),$(".consultancy-header *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})});var a=!1,t=!1,i=!1,o=!1;"tap"!==e.clickType?($(document).scroll(function(){a||$(".services").offset().top-$(window).scrollTop()<=.65*$(window).height()&&(a=!0,$(".services *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})})),t||$(".testimonials").offset().top-$(window).scrollTop()<=.65*$(window).height()&&(t=!0,$(".testimonials *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})})),i||$(".production-servives").offset().top-$(window).scrollTop()<=.65*$(window).height()&&(i=!0,$(".production-servives *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})})),o||$(".contact").offset().top-$(window).scrollTop()<=.65*$(window).height()&&(o=!0,$(".contact *[data-animation]").each(function(){var e=parseFloat($(this).attr("data-speed")),a=parseFloat($(this).attr("data-delay"));TweenMax.to($(this),e,{x:0,y:0,alpha:1,ease:Quart.easeOut,delay:a})}))}),$(document).scroll()):$("*[data-animation]").each(function(){TweenMax.set($(this),{x:0,y:0,alpha:1})}),$(".form-group input, .form-group textarea").keydown(function(){$(this).parent().hasClass("error")&&$(this).parent().removeClass("error").find("i.error").remove()}),$("form").on("submit",function(a){a.preventDefault(),$(".form-group").removeClass("error").find("i.error").remove();var t=$("#form-name").val(),i=$("#form-email").val(),o=$("#form-message").val(),s=!1;return t.length<3&&($(".form-name").addClass("error").append('<i class="error">Please enter your name</i>'),s=!0),e.validEmail(i)||($(".form-email").addClass("error").append('<i class="error">Invalid email address</i>'),s=!0),o.length<5&&($(".form-message").addClass("error").append('<i class="error">Enter your message</i>'),s=!0),s||$.post(e.root+"php/contact.php",{name:t,email:i,message:o},function(){$("#form-name").val(""),$("#form-email").val(""),$("#form-message").val(""),$("form .button").after('<p class="margin-bottom-0 pink500">Thank you, your message was sent.</p>')}),!1}),$(".testimonials .mask").flickity({cellAlign:"left",wrapAround:!0,autoPlay:8e3,pauseAutoPlayOnHover:!1,prevNextButtons:!1,pageDots:!0})},e.initMobileNav=function(){$(".mobile-header .bar").click(function(){$(".mobile-header").hasClass("open")?e.closeMobileNav():e.openMobileNav()})},e.openMobileNav=function(){$(".mobile-header nav").show(0),$(".mobile-header").addClass("open"),TweenMax.to("#line1",.2,{y:0,ease:Linear.easeNone}),TweenMax.to("#line2",0,{alpha:0,ease:Linear.easeNone,delay:.2}),TweenMax.to("#line3",.2,{y:0,ease:Linear.easeNone}),TweenMax.to("#line1",.2,{rotation:45,ease:Quart.easeOut,delay:.2}),TweenMax.to("#line3",.2,{rotation:-45,ease:Quart.easeOut,delay:.2})},e.closeMobileNav=function(){$(".mobile-header").removeClass("open"),TweenMax.to("#line1",.2,{rotation:0,ease:Linear.easeNone,delay:0}),TweenMax.to("#line3",.2,{rotation:0,ease:Linear.easeNone,delay:0}),TweenMax.to("#line2",0,{alpha:1,ease:Quart.easeOut,delay:.2}),TweenMax.to("#line1",.2,{y:-8,ease:Quart.easeOut,delay:.2}),TweenMax.to("#line3",.2,{y:8,ease:Quart.easeOut,delay:.2,onComplete:function(){$(".mobile-header nav").hide(0)}})},e.initFooter=function(){var a=0,t=0;$(".main-footer .twitter-feed").load(e.root+"php/feed.php",function(){t=$(".main-footer .twitter-feed li").length}),$(".main-footer .next").click(function(){$(".main-footer .prev").show(),t-1>a&&(a++,TweenMax.to($(".main-footer .twitter-feed li:first-child"),.4,{marginLeft:-(100*a)+"%",ease:Quart.easeOut}),a===t-1&&$(".main-footer .next").hide())}),$(".main-footer .prev").click(function(){$(".main-footer .next").show(),a>0&&(a--,TweenMax.to($(".main-footer .twitter-feed li:first-child"),.4,{marginLeft:-(100*a)+"%",ease:Quart.easeOut}),0===a&&$(".main-footer .prev").hide())})},e.init=function(){/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&(e.clickType="click"),$(window).resize(e.resize),$(".form-control").on("focus blur",function(e){$(this).parents(".form-group").toggleClass("focused","focus"===e.type||this.value.length>0)}).trigger("blur"),e.loadScriptsAsync(),$(".button").each(function(){var e=$(this).html(),a=$(this).hasClass("transparent")?"":'<div class="rect"><i class="r1"></i><i class="r2"></i><i class="r3"></i><i class="r4"></i></div>';$(this).html("<span>"+e+'</span><svg class="next" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 23 14" xml:space="preserve"><line x1="22" y1="7" x2="16" y2="1" /><line x1="22" y1="7" x2="16" y2="13" /><line x1="0" y1="7" x2="23" y2="7" /></svg>'+a)}),"tap"!==e.clickType&&$(".button").mouseover(function(){$(this).addClass("hover")}).mouseout(function(){$(this).removeClass("hover")})},e.init()});
//# sourceMappingURL=./pixi.min.js.map